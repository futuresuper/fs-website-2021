---
import BlogList from '$/layouts/BlogList.astro'

let {authorName} = Astro.props.content;

let allPosts = Astro.fetchContent('$/pages/blog/*.md');

let authorPosts = [];
allPosts.map(p => {
  if (p.author === authorName) {
    authorPosts.push(p)
  }
})
authorPosts = authorPosts.sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf());

---

<BlogList
  title={"Blog | " + authorName}
  description={"Blog posts by " + authorName}
  posts={authorPosts}
/>