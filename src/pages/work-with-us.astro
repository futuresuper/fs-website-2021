---
import BaseLayout from '$/layouts/BaseLayout.astro'
import WorkWithUs from "../components/page/WorkWithUs.svelte"
import moment from 'moment'

let careers = Astro.fetchContent('$/pages/career/*.md');
careers = careers.sort((a, b) => new Date(b.startDate).valueOf() - new Date(a.startDate).valueOf());
careers = careers.filter(c => {return moment(c.startDate).utc().isBefore(moment()) && moment(c.endDate).utc().isAfter(moment())})

---

<BaseLayout
  title="Work With Us"
  intro="We do financial services with a difference. Help us combat climate change and inequality."
  description="We do financial services with a difference. Help us combat climate change and inequality."
  hideDescription
  skinnyContainer
>
  <WorkWithUs careers={careers} />
</BaseLayout>